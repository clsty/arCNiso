---
const { title } = Astro.props.frontmatter || Astro.props;
---
<style is:global>
/* For astro, the total title i.e. the "Metadata title" for the markdown file is counted as `h1' as well. */
/* Of course, it's not the h1 we really want. so we just make its counter value as -1, not the default 0 */
.sl-markdown-content body {
    counter-reset: ch1 -1 !important;
}

.sl-markdown-content h1 {
    counter-increment: ch1 !important;
    counter-reset: ch2 !important;
}

.sl-markdown-content h2 {
    counter-increment: ch2 !important;
    counter-reset: ch3 !important;
}

.sl-markdown-content h3 {
    counter-increment: ch3 !important;
    counter-reset: ch4 !important;
}

.sl-markdown-content h4 {
    counter-increment: ch4 !important;
}

/* 排除 id 为 _top 的 h1 元素，即页面的总标题，或者说 markdown 的 metadata 标题。 */
.sl-markdown-content h1:before {
    content: counter(ch1) "  "
}

/* 排除 id 为 starlight__on-thispage 的 h2 元素，即右侧边栏的总标题。 */
.sl-markdown-content h2:before {
    content: counter(ch1) "." counter(ch2) "  "
}

.sl-markdown-content h3:before {
    content: counter(ch1) "." counter(ch2) "." counter(ch3) "  "
}

.sl-markdown-content h4:before {
    content: counter(ch1) "." counter(ch2) "." counter(ch3) "." counter(ch4) "  "
}
</style>

<slot />
